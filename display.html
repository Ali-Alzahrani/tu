function checkPermissionStatus() {
    let allowedTimeString = entryData.allowedTime;

    // âœ… Extract date components manually (Fix for Safari)
    let dateParts = allowedTimeString.split("T")[0].split("-");
    let timeParts = allowedTimeString.split("T")[1].split(":");

    let allowedTime = new Date(
        parseInt(dateParts[0]),  // Year
        parseInt(dateParts[1]) - 1,  // Month (0-based index)
        parseInt(dateParts[2]),  // Day
        parseInt(timeParts[0]),  // Hours
        parseInt(timeParts[1])   // Minutes
    );

    const durationHours = parseInt(entryData.duration);
    const expirationTime = new Date(allowedTime.getTime() + durationHours * 60 * 60 * 1000);
    const currentTime = new Date();

    console.log("Allowed Time:", allowedTime);
    console.log("Duration (hours):", durationHours);
    console.log("Expiration Time:", expirationTime);
    console.log("Current Time:", currentTime);

    const statusMessage = document.getElementById("statusMessage");
    const container = document.querySelector(".container");

    if (currentTime < allowedTime) {
        statusMessage.innerHTML = "Permission has not started yet";
        statusMessage.style.color = "orange";
        container.style.backgroundColor = "#f1c40f"; // Yellow
    } else if (currentTime >= allowedTime && currentTime <= expirationTime) {
        statusMessage.innerHTML = "They are allowed";
        statusMessage.style.color = "green";
        container.style.backgroundColor = "#2ecc71"; // Green
    } else {
        statusMessage.innerHTML = "Permission has expired";
        statusMessage.style.color = "red";
        container.style.backgroundColor = "#e74c3c"; // Red
    }
}
